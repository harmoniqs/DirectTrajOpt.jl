<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · DirectTrajOpt.jl</title><meta name="title" content="Library · DirectTrajOpt.jl"/><meta property="og:title" content="Library · DirectTrajOpt.jl"/><meta property="twitter:title" content="Library · DirectTrajOpt.jl"/><meta name="description" content="Documentation for DirectTrajOpt.jl."/><meta property="og:description" content="Documentation for DirectTrajOpt.jl."/><meta property="twitter:description" content="Documentation for DirectTrajOpt.jl."/><meta property="og:url" content="https://docs.harmoniqs.co/DirectTrajOpt.jl/lib/"/><meta property="twitter:url" content="https://docs.harmoniqs.co/DirectTrajOpt.jl/lib/"/><link rel="canonical" href="https://docs.harmoniqs.co/DirectTrajOpt.jl/lib/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="DirectTrajOpt.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">DirectTrajOpt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../generated/quickstart/">Quickstart</a></li><li><a class="tocitem" href="../generated/example/">Complete Example</a></li></ul></li><li><span class="tocitem">Core Concepts</span><ul><li><a class="tocitem" href="../generated/concepts/problem_formulation/">Problem Formulation</a></li><li><a class="tocitem" href="../generated/concepts/trajectories/">Trajectories</a></li><li><a class="tocitem" href="../generated/concepts/integrators/">Integrators</a></li><li><a class="tocitem" href="../generated/concepts/objectives/">Objectives</a></li><li><a class="tocitem" href="../generated/concepts/constraints/">Constraints</a></li></ul></li><li class="is-active"><a class="tocitem" href>Library</a><ul class="internal"><li><a class="tocitem" href="#Constraints"><span>Constraints</span></a></li><li><a class="tocitem" href="#Integrators"><span>Integrators</span></a></li><li><a class="tocitem" href="#Objectives"><span>Objectives</span></a></li><li><a class="tocitem" href="#Dynamics"><span>Dynamics</span></a></li><li><a class="tocitem" href="#Problems"><span>Problems</span></a></li><li><a class="tocitem" href="#Problem-Solvers"><span>Problem Solvers</span></a></li><li><a class="tocitem" href="#Problem-Solvers-2"><span>Problem Solvers</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/harmoniqs/DirectTrajOpt.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/main/docs/src/lib.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Library"><a class="docs-heading-anchor" href="#Library">Library</a><a id="Library-1"></a><a class="docs-heading-anchor-permalink" href="#Library" title="Permalink"></a></h1><h2 id="Constraints"><a class="docs-heading-anchor" href="#Constraints">Constraints</a><a id="Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Constraints.EqualityConstraint" href="#DirectTrajOpt.Constraints.EqualityConstraint"><code>DirectTrajOpt.Constraints.EqualityConstraint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct EqualityConstraint</code></pre><p>Represents a linear equality constraint.</p><p><strong>Fields</strong></p><ul><li><code>ts::AbstractArray{Int}</code>: the time steps at which the constraint is applied</li><li><code>js::AbstractArray{Int}</code>: the components of the trajectory at which the constraint is applied</li><li><code>vals::Vector{R}</code>: the values of the constraint</li><li><code>vardim::Int</code>: the dimension of a single time step of the trajectory</li><li><code>label::String</code>: a label for the constraint</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/constraints/linear_constraints.jl#L18-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Constraints.EqualityConstraint-Tuple{Symbol, AbstractVector{Int64}, Vector{Float64}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory}" href="#DirectTrajOpt.Constraints.EqualityConstraint-Tuple{Symbol, AbstractVector{Int64}, Vector{Float64}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory}"><code>DirectTrajOpt.Constraints.EqualityConstraint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EqualityConstraint(
    name::Symbol,
    ts::Vector{Int},
    val::Vector{Float64},
    traj::NamedTrajectory;
    label=&quot;equality constraint on trajectory variable [name]&quot;
)</code></pre><p>Constructs equality constraint for trajectory variable in NamedTrajectory</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/constraints/linear_constraints.jl#L37-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Constraints.GlobalEqualityConstraint-Tuple{Symbol, Vector{Float64}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory}" href="#DirectTrajOpt.Constraints.GlobalEqualityConstraint-Tuple{Symbol, Vector{Float64}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory}"><code>DirectTrajOpt.Constraints.GlobalEqualityConstraint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GlobalEqualityConstraint(
    name::Symbol,
    val::Vector{Float64},
    traj::NamedTrajectory;
    label=&quot;equality constraint on global variable [name]&quot;
)::EqualityConstraint</code></pre><p>Constructs equality constraint for global variable in NamedTrajectory</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/constraints/linear_constraints.jl#L72-L81">source</a></section></article><h2 id="Integrators"><a class="docs-heading-anchor" href="#Integrators">Integrators</a><a id="Integrators-1"></a><a class="docs-heading-anchor-permalink" href="#Integrators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Integrators.BilinearIntegrator" href="#DirectTrajOpt.Integrators.BilinearIntegrator"><code>DirectTrajOpt.Integrators.BilinearIntegrator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">BilinearIntegrator &lt;: AbstractBilinearIntegrator</code></pre><p>Integrator for control-linear dynamics of the form ẋ = G(u)x.</p><p>This integrator uses matrix exponential methods to compute accurate state transitions for bilinear systems where the system matrix depends linearly on the control input.</p><p><strong>Fields</strong></p><ul><li><code>G::Function</code>: Function mapping control u to system matrix G(u)</li><li><code>x_comps::Vector{Int}</code>: Component indices for state variables</li><li><code>u_comps::Vector{Int}</code>: Component indices for control variables  </li><li><code>Δt_comp::Int</code>: Component index for time step</li><li><code>z_dim::Int</code>: Total dimension of knot point</li><li><code>x_dim::Int</code>: State dimension</li><li><code>u_dim::Int</code>: Control dimension</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">BilinearIntegrator(G::Function, traj::NamedTrajectory, x::Symbol, u::Symbol)
BilinearIntegrator(G::Function, traj::NamedTrajectory, xs::Vector{Symbol}, u::Symbol)</code></pre><p><strong>Arguments</strong></p><ul><li><code>G</code>: Function taking control u and returning state matrix (x<em>dim × x</em>dim)</li><li><code>traj</code>: NamedTrajectory containing the optimization variables</li><li><code>x</code> or <code>xs</code>: State variable name(s)</li><li><code>u</code>: Control variable name</li></ul><p><strong>Dynamics</strong></p><p>Computes the constraint: x<em>{k+1} - exp(Δt * G(u</em>k)) * x_k = 0</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Linear dynamics: ẋ = (A + Σᵢ uᵢ Bᵢ) x
A = [-0.1 1.0; -1.0 -0.1]
B = [0.0 0.0; 0.0 1.0]
G = u -&gt; A + u[1] * B

integrator = BilinearIntegrator(G, traj, :x, :u)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/integrators/bilinear_integrator.jl#L107-L148">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Integrators.dense-Tuple{Any, Any, Any}" href="#DirectTrajOpt.Integrators.dense-Tuple{Any, Any, Any}"><code>DirectTrajOpt.Integrators.dense</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dense(vals, structure, shape)</code></pre><p>Convert sparse data to dense matrix.</p><p><strong>Arguments</strong></p><ul><li><code>vals</code>: vector of values</li><li><code>structure</code>: vector of tuples of indices</li><li><code>shape</code>: tuple of matrix dimensions</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/test/test_utils.jl#L7-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Integrators.show_diffs-Tuple{AbstractMatrix, AbstractMatrix}" href="#DirectTrajOpt.Integrators.show_diffs-Tuple{AbstractMatrix, AbstractMatrix}"><code>DirectTrajOpt.Integrators.show_diffs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">show_diffs(A::Matrix, B::Matrix)</code></pre><p>Show differences between matrices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/test/test_utils.jl#L32-L36">source</a></section></article><h2 id="Objectives"><a class="docs-heading-anchor" href="#Objectives">Objectives</a><a id="Objectives-1"></a><a class="docs-heading-anchor-permalink" href="#Objectives" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Objectives.Objective" href="#DirectTrajOpt.Objectives.Objective"><code>DirectTrajOpt.Objectives.Objective</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Objective</code></pre><p>A structure representing an objective function for trajectory optimization.</p><p>An objective function consists of the cost function itself along with its first and second derivatives for gradient-based optimization. The structure supports automatic differentiation and sparse Hessian representations.</p><p><strong>Fields</strong></p><ul><li><code>L::Function</code>: Objective function that takes trajectory vector Z⃗ and returns a scalar cost</li><li><code>∇L::Function</code>: Gradient function returning ∂L/∂Z⃗</li><li><code>∂²L::Union{Function, Nothing}</code>: Hessian function returning non-zero Hessian entries</li><li><code>∂²L_structure::Union{Function, Nothing}</code>: Function returning sparsity structure of Hessian</li></ul><p><strong>Operators</strong></p><p>Objectives support addition and scalar multiplication:</p><ul><li><code>obj1 + obj2</code>: Combine objectives by summing costs and derivatives</li><li><code>α * obj</code>: Scale objective by constant α</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Create a regularization objective
obj = QuadraticRegularizer(:u, traj, 1e-2)

# Combine multiple objectives  
total_obj = obj1 + obj2 + 0.1 * obj3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/objectives/_objectives.jl#L20-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Objectives.GlobalObjective-Tuple{Function, AbstractVector{Symbol}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory}" href="#DirectTrajOpt.Objectives.GlobalObjective-Tuple{Function, AbstractVector{Symbol}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory}"><code>DirectTrajOpt.Objectives.GlobalObjective</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GlobalObjective(
    ℓ::Function,
    global_names::AbstractVector{Symbol},
    traj::NamedTrajectory;
    kwargs...
)
GlobalObjective(
    ℓ::Function,
    global_name::Symbol,
    traj::NamedTrajectory;
    kwargs...
)</code></pre><p>Create an objective that only involves the global components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/objectives/global_objectives.jl#L9-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Objectives.KnotPointObjective-Tuple{Function, AbstractVector{Symbol}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory, AbstractVector}" href="#DirectTrajOpt.Objectives.KnotPointObjective-Tuple{Function, AbstractVector{Symbol}, NamedTrajectories.StructNamedTrajectory.NamedTrajectory, AbstractVector}"><code>DirectTrajOpt.Objectives.KnotPointObjective</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KnotPointObjective(
    ℓ::Function,
    names::AbstractVector{Symbol},
    traj::NamedTrajectory,
    params::AbstractVector;
    kwargs...
)
KnotPointObjective(
    ℓ::Function,
    names::AbstractVector{Symbol},
    traj::NamedTrajectory;
    kwargs...
)
KnotPointObjective(
    ℓ::Function,
    name::Symbol,
    args...;
    kwargs...
)</code></pre><p>Create a knot point summed objective function for trajectory optimization, where <code>ℓ(x, p)</code>  on trajectory knot point variables <code>x</code> with parameters <code>p</code>. If the parameters argument is  omitted, <code>ℓ(x)</code> is assumed to be a function of <code>x</code> only.</p><p>For multiple variables, the function <code>ℓ</code> can accept either:</p><ul><li>Separate arguments: <code>ℓ(x, u)</code> for variables <code>[:x, :u]</code></li><li>Concatenated vector: <code>ℓ(xu)</code> where <code>xu = [x; u]</code></li></ul><p>The constructor automatically detects which form <code>ℓ</code> expects.</p><p><strong>Arguments</strong></p><ul><li><code>ℓ::Function</code>: Function that defines the objective, <code>ℓ(x, p)</code> or <code>ℓ(x)</code>.<ul><li>For single variable: <code>ℓ(x)</code> where <code>x</code> is the variable values at a knot point</li><li>For multiple variables: <code>ℓ(x, u)</code> or <code>ℓ(xu)</code> depending on preference</li></ul></li><li><code>names::AbstractVector{Symbol}</code>: Names of the trajectory variables to be optimized.</li><li><code>traj::NamedTrajectory</code>: The trajectory on which the objective is defined.</li><li><code>params::AbstractVector</code>: Parameters <code>p</code> for the objective function ℓ, for each time.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>times::AbstractVector{Int}=1:traj.N</code>: Time indices at which the objective is evaluated.</li><li><code>Qs::AbstractVector{Float64}=ones(traj.N)</code>: Weights for the objective function at each time.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Single variable objective
obj = KnotPointObjective(
    x -&gt; norm(x)^2,
    [:x], traj
)

# Multiple variables with separate arguments (recommended)
obj = KnotPointObjective(
    (x, u) -&gt; x[1]^2 + u[1]^2,
    [:x, :u], traj
)

# Multiple variables with concatenated vector
obj = KnotPointObjective(
    xu -&gt; xu[1]^2 + xu[3]^2,  # xu = [x[1], x[2], u[1]]
    [:x, :u], traj
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/objectives/knot_point_objectives.jl#L9-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Objectives.MinimumTimeObjective-Tuple{NamedTrajectories.StructNamedTrajectory.NamedTrajectory}" href="#DirectTrajOpt.Objectives.MinimumTimeObjective-Tuple{NamedTrajectories.StructNamedTrajectory.NamedTrajectory}"><code>DirectTrajOpt.Objectives.MinimumTimeObjective</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MinimumTimeObjective</code></pre><p>A type of objective that counts the time taken to complete a task.  <code>D</code> is a scaling factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/objectives/minimum_time_objective.jl#L4-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Objectives.QuadraticRegularizer-Tuple{Symbol, NamedTrajectories.StructNamedTrajectory.NamedTrajectory, AbstractVector{&lt;:Real}}" href="#DirectTrajOpt.Objectives.QuadraticRegularizer-Tuple{Symbol, NamedTrajectories.StructNamedTrajectory.NamedTrajectory, AbstractVector{&lt;:Real}}"><code>DirectTrajOpt.Objectives.QuadraticRegularizer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">QuadraticRegularizer(
    name::Symbol,
    traj::NamedTrajectory,
    R::Union{Real, AbstractVector{&lt;:Real}};
    baseline::AbstractMatrix{&lt;:Real}=zeros(traj.dims[name], traj.N),
    times::AbstractVector{Int}=1:traj.N
)</code></pre><p>Create a quadratic regularization objective for a trajectory component.</p><p>Minimizes the weighted squared deviation from a baseline trajectory, integrated over time:</p><p class="math-container">\[J = \sum_{k \in \text{times}} \frac{1}{2} (v_k - v_\text{baseline})^T R (v_k - v_\text{baseline}) \Delta t\]</p><p>where <code>v_k</code> is the trajectory component at knot point <code>k</code>.</p><p><strong>Arguments</strong></p><ul><li><code>name::Symbol</code>: Name of the trajectory component to regularize</li><li><code>traj::NamedTrajectory</code>: The trajectory containing the component</li><li><code>R</code>: Regularization weight(s). Can be:<ul><li>Scalar: same weight for all components</li><li>Vector: individual weights for each component dimension</li></ul></li><li><code>baseline::AbstractMatrix</code>: Target values (default: zeros). Size: (component_dim × N)</li><li><code>times::AbstractVector{Int}</code>: Time indices to include in regularization (default: all)</li></ul><p><strong>Returns</strong></p><ul><li><code>Objective</code>: Regularization objective with gradient and Hessian</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Regularize control with uniform weight
obj = QuadraticRegularizer(:u, traj, 1e-2)

# Regularize with different weights per component
obj = QuadraticRegularizer(:u, traj, [1e-2, 1e-3])

# Regularize around a reference trajectory
obj = QuadraticRegularizer(:x, traj, 1.0, baseline=x_ref)

# Only regularize middle time steps
obj = QuadraticRegularizer(:u, traj, 1e-2, times=2:traj.N-1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/objectives/regularizers.jl#L6-L51">source</a></section></article><h2 id="Dynamics"><a class="docs-heading-anchor" href="#Dynamics">Dynamics</a><a id="Dynamics-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Dynamics.TrajectoryDynamics" href="#DirectTrajOpt.Dynamics.TrajectoryDynamics"><code>DirectTrajOpt.Dynamics.TrajectoryDynamics</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TrajectoryDynamics</code></pre><p>Represents the dynamics of a trajectory optimization problem through integrators.</p><p>This structure encapsulates the dynamics constraints that enforce consistency between consecutive time steps in the trajectory. It uses integrators to define how the state evolves from one time step to the next and provides automatic differentiation support through Jacobian and Hessian computations.</p><p><strong>Fields</strong></p><ul><li><code>F!::Function</code>: In-place function computing dynamics violations δ = f(zₖ, zₖ₊₁)</li><li><code>∂F!::Function</code>: In-place function computing Jacobian of dynamics</li><li><code>∂fs::Vector{SparseMatrixCSC}</code>: Cached Jacobian matrices for each time step</li><li><code>μ∂²F!::Function</code>: In-place function computing Hessian of Lagrangian</li><li><code>μ∂²fs::Vector{SparseMatrixCSC}</code>: Cached Hessian matrices for each time step</li><li><code>μ∂²F_structure::SparseMatrixCSC</code>: Sparsity structure of full trajectory Hessian</li><li><code>dim::Int</code>: Total dimension of dynamics (sum of all integrator state dimensions)</li></ul><p><strong>Constructor</strong></p><pre><code class="language-julia hljs">TrajectoryDynamics(
    integrators::Vector{&lt;:AbstractIntegrator},
    traj::NamedTrajectory;
    verbose=false
)</code></pre><p>Create trajectory dynamics from integrators and a trajectory structure.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">G = rand(2, 2)
integrator = BilinearIntegrator(G, traj, :x, :u)
dynamics = TrajectoryDynamics(integrator, traj)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/dynamics.jl#L65-L101">source</a></section></article><h2 id="Problems"><a class="docs-heading-anchor" href="#Problems">Problems</a><a id="Problems-1"></a><a class="docs-heading-anchor-permalink" href="#Problems" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Problems.DirectTrajOptProblem" href="#DirectTrajOpt.Problems.DirectTrajOptProblem"><code>DirectTrajOpt.Problems.DirectTrajOptProblem</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct DirectTrajOptProblem</code></pre><p>A direct trajectory optimization problem containing all information needed for setup and solution.</p><p><strong>Fields</strong></p><ul><li><code>trajectory::NamedTrajectory</code>: The trajectory containing optimization variables and data</li><li><code>objective::Objective</code>: The objective function to minimize</li><li><code>dynamics::TrajectoryDynamics</code>: The system dynamics (integrators)</li><li><code>constraints::Vector{&lt;:AbstractConstraint}</code>: Constraints on the trajectory</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">DirectTrajOptProblem(
    traj::NamedTrajectory,
    obj::Objective,
    integrators::Vector{&lt;:AbstractIntegrator};
    constraints::Vector{&lt;:AbstractConstraint}=AbstractConstraint[]
)</code></pre><p>Create a problem from a trajectory, objective, and integrators. Trajectory constraints (initial, final, bounds) are automatically extracted and added to the constraint list.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">traj = NamedTrajectory((x = rand(2, 10), u = rand(1, 10)), timestep=:Δt)
obj = QuadraticRegularizer(:u, traj, 1.0)
integrator = BilinearIntegrator(G, traj, :x, :u)
prob = DirectTrajOptProblem(traj, obj, integrator)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/problems.jl#L17-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Problems.get_trajectory_constraints-Tuple{NamedTrajectories.StructNamedTrajectory.NamedTrajectory}" href="#DirectTrajOpt.Problems.get_trajectory_constraints-Tuple{NamedTrajectories.StructNamedTrajectory.NamedTrajectory}"><code>DirectTrajOpt.Problems.get_trajectory_constraints</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_trajectory_constraints(traj::NamedTrajectory)</code></pre><p>Extract and create constraints from a NamedTrajectory&#39;s initial, final, and bounds specifications.</p><p><strong>Arguments</strong></p><ul><li><code>traj::NamedTrajectory</code>: Trajectory with specified initial conditions, final conditions, and/or bounds</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{AbstractConstraint}</code>: Vector of constraints including:<ul><li>Initial value equality constraints (from <code>traj.initial</code>)</li><li>Final value equality constraints (from <code>traj.final</code>)</li><li>Bounds constraints (from <code>traj.bounds</code>)</li></ul></li></ul><p><strong>Details</strong></p><p>The function automatically handles time indices based on which constraints are specified:</p><ul><li>If both initial and final constraints exist for a component, bounds apply to interior points (2:N-1)</li><li>If only initial exists, bounds apply from second point onward (2:N)</li><li>If only final exists, bounds apply up to second-to-last point (1:N-1)</li><li>If neither exist, bounds apply to all time points (1:N)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/problems.jl#L83-L103">source</a></section></article><h2 id="Problem-Solvers"><a class="docs-heading-anchor" href="#Problem-Solvers">Problem Solvers</a><a id="Problem-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Problem-Solvers" title="Permalink"></a></h2><h2 id="Problem-Solvers-2"><a class="docs-heading-anchor" href="#Problem-Solvers-2">Problem Solvers</a><a class="docs-heading-anchor-permalink" href="#Problem-Solvers-2" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.IpoptSolverExt.IpoptOptions" href="#DirectTrajOpt.IpoptSolverExt.IpoptOptions"><code>DirectTrajOpt.IpoptSolverExt.IpoptOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Solver options for Ipopt

https://coin-or.github.io/Ipopt/OPTIONS.html#OPT_print_options_documentation</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/solvers/ipopt_solver/options.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DirectTrajOpt.Solvers.solve!-Tuple{DirectTrajOptProblem}" href="#DirectTrajOpt.Solvers.solve!-Tuple{DirectTrajOptProblem}"><code>DirectTrajOpt.Solvers.solve!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve!(
    prob::DirectTrajOptProblem;
    options::IpoptOptions=IpoptOptions(),
    max_iter::Int=options.max_iter,
    verbose::Bool=true,
    linear_solver::String=options.linear_solver,
    print_level::Int=options.print_level,
    callback=nothing
)</code></pre><p>Solve a direct trajectory optimization problem using Ipopt.</p><p><strong>Arguments</strong></p><ul><li><code>prob::DirectTrajOptProblem</code>: The trajectory optimization problem to solve.</li><li><code>options::IpoptOptions</code>: Ipopt solver options. Default is <code>IpoptOptions()</code>.</li><li><code>max_iter::Int</code>: Maximum number of iterations for the optimization solver.</li><li><code>verbose::Bool</code>: If <code>true</code>, print solver progress information.</li><li><code>linear_solver::String</code>: Linear solver to use (e.g., &quot;mumps&quot;, &quot;pardiso&quot;, &quot;ma27&quot;, &quot;ma57&quot;, &quot;ma77&quot;, &quot;ma86&quot;, &quot;ma97&quot;).</li><li><code>print_level::Int</code>: Ipopt print level (0-12). Higher values provide more detailed output.</li><li><code>callback::Function</code>: Optional callback function to execute during optimization.</li></ul><p><strong>Returns</strong></p><ul><li><code>nothing</code>: The problem&#39;s trajectory is updated in place with the optimized solution.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">prob = DirectTrajOptProblem(trajectory, objective, dynamics)
solve!(prob; max_iter=100, verbose=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/harmoniqs/DirectTrajOpt.jl/blob/7471dff35dab20af7fa23084d738b28b416e5b08/src/solvers/ipopt_solver/solver.jl#L8-L38">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/concepts/constraints/">« Constraints</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Wednesday 29 October 2025 05:20">Wednesday 29 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body><div data-docstringscollapsed="true"></div></html>
